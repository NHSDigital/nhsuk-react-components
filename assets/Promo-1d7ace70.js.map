{"version":3,"file":"Promo-1d7ace70.js","sources":["../../src/deprecated/components/panel/PanelContext.ts","../../src/deprecated/warnings.ts","../../src/deprecated/components/panel/Panel.tsx","../../src/deprecated/components/promo/PromoContext.ts","../../src/deprecated/components/promo/Promo.tsx"],"sourcesContent":["import { createContext } from 'react';\n\nexport interface PanelContextType {\n  panelCount: number;\n}\n\nconst PanelContext = createContext<PanelContextType | null>(null);\n\nexport default PanelContext;\n","export const PromoDeprecationWarning = 'The Promo component is deprecated, and will be removed in the next major version of nhsuk-react-components. The Card component is the intended replacement.';\n\nexport const PanelDeprecationWarning = 'The Promo component is deprecated, and will be removed in the next major version of nhsuk-react-components. The Card component is the intended replacement.';\n","import React, { HTMLProps, isValidElement } from 'react';\nimport classNames from 'classnames';\nimport { Row, Col } from '../../../components/layout';\nimport PanelContext, { PanelContextType } from './PanelContext';\nimport useDevWarning from '../../../util/hooks/UseDevWarning';\nimport { PanelDeprecationWarning } from '../../warnings';\n\ninterface PanelProps extends HTMLProps<HTMLDivElement> {\n  grey?: boolean;\n  label?: string;\n  labelProps?: HTMLProps<HTMLHeadingElement>;\n}\n\ninterface Panel extends React.FC<PanelProps> {\n  Group: React.FC<HTMLProps<HTMLDivElement>>;\n}\n\nconst BasePanel: React.FC<PanelProps> = ({\n  label,\n  grey,\n  className,\n  labelProps,\n  children,\n  ...rest\n}) => {\n  useDevWarning(PanelDeprecationWarning);\n\n  return (\n    <div\n      className={classNames(\n        { 'nhsuk-panel': !label },\n        { 'nhsuk-panel--grey': grey },\n        { 'nhsuk-panel-with-label': label },\n        className,\n      )}\n      {...rest}\n    >\n      {label ? (\n        <h3 className=\"nhsuk-panel-with-label__label\" {...labelProps}>\n          {label}\n        </h3>\n      ) : null}\n      {children}\n    </div>\n  );\n};\n\nconst Panel: Panel = (props) => {\n  const PanelGroupContext = React.useContext<PanelContextType | null>(PanelContext);\n  let panelWidth: 'one-half' | 'one-third' | 'one-quarter' | 'full';\n  if (PanelGroupContext !== null) {\n    const { panelCount } = PanelGroupContext;\n    switch (panelCount) {\n      case 2:\n        panelWidth = 'one-half';\n        break;\n      case 3:\n        panelWidth = 'one-third';\n        break;\n      case 4:\n        panelWidth = 'one-quarter';\n        break;\n      default:\n        panelWidth = 'full';\n        break;\n    }\n    return (\n      <Col width={panelWidth} className=\"nhsuk-panel-group__item\">\n        <BasePanel {...props} />\n      </Col>\n    );\n  }\n  return <BasePanel {...props} />;\n};\n\nconst PanelGroup: React.FC<HTMLProps<HTMLDivElement>> = ({ className, children, ...rest }) => {\n  let panelCount = 0;\n  React.Children.forEach(children, (child) => {\n    if (child && isValidElement(child) && child.type === Panel) {\n      panelCount += 1;\n    }\n  });\n  return (\n    <Row className={classNames('nhsuk-panel-group', className)} {...rest}>\n      <PanelContext.Provider value={{ panelCount }}>{children}</PanelContext.Provider>\n    </Row>\n  );\n};\n\nPanel.Group = PanelGroup;\n\nexport default Panel;\n","import { createContext } from 'react';\n\nexport interface PromoContextType {\n  isGroup: boolean;\n  promoCount: number;\n}\n\nconst PromoContext = createContext<PromoContextType>({ isGroup: false, promoCount: 0 });\n\nexport default PromoContext;\n","import React, { HTMLProps, useContext, isValidElement } from 'react';\nimport classNames from 'classnames';\nimport PromoContext, { PromoContextType } from './PromoContext';\nimport { Col, Row } from '../../../components/layout';\nimport type { AsElementLink } from '../../../util/types/LinkTypes';\nimport useDevWarning from '../../../util/hooks/UseDevWarning';\nimport { PromoDeprecationWarning } from '../../warnings';\nimport HeadingLevel, { HeadingLevelType } from '../../../util/HeadingLevel';\n\ninterface ImageProps extends HTMLProps<HTMLImageElement> {\n  crossOrigin?: '' | 'anonymous' | 'use-credentials';\n}\n\ninterface BasePromoProps extends AsElementLink<HTMLAnchorElement> {\n  imageSrc?: string;\n  small?: boolean;\n  imageProps?: ImageProps;\n}\n\nconst BasePromo: React.FC<BasePromoProps> = ({\n  className,\n  children,\n  imageSrc,\n  imageProps,\n  small,\n  asElement: Component = 'a',\n  ...rest\n}) => {\n  useDevWarning(PromoDeprecationWarning);\n  const { className: imageClassName, ...restImageProps } = imageProps || {};\n\n  return (\n    <div className={classNames('nhsuk-promo', { 'nhsuk-promo--small': small }, className)}>\n      <Component className=\"nhsuk-promo__link-wrapper\" {...rest}>\n        {imageSrc ? (\n          <img\n            className={classNames('nhsuk-promo__img', imageClassName)}\n            src={imageSrc}\n            {...restImageProps}\n          />\n        ) : null}\n        <div className=\"nhsuk-promo__content\">{children}</div>\n      </Component>\n    </div>\n  );\n};\n\nBasePromo.defaultProps = {\n  imageProps: {},\n};\n\ninterface PromoHeadingProps extends HTMLProps<HTMLHeadingElement> {\n  headingLevel: HeadingLevelType;\n}\n\nconst PromoHeading: React.FC<PromoHeadingProps> = ({ className, ...rest }) => (\n  <HeadingLevel className={classNames('nhsuk-promo__heading', className)} {...rest} />\n);\nPromoHeading.defaultProps = {\n  headingLevel: 'h3',\n};\n\nconst PromoDescription: React.FC<HTMLProps<HTMLParagraphElement>> = ({ className, ...rest }) => (\n  <p className={classNames('nhsuk-promo__description', className)} {...rest} />\n);\n\nconst PromoGroup: React.FC<HTMLProps<HTMLDivElement>> = ({ className, children, ...rest }) => {\n  let promoCount = 0;\n  React.Children.forEach(children, (child) => {\n    if (child && isValidElement(child) && child.type === Promo) {\n      promoCount += 1;\n    }\n  });\n  return (\n    <Row className={classNames('nhsuk-promo-group', className)} {...rest}>\n      <PromoContext.Provider value={{ promoCount, isGroup: true }}>\n        {children}\n      </PromoContext.Provider>\n    </Row>\n  );\n};\n\ninterface Promo extends React.FC<BasePromoProps> {\n  Group: React.FC<HTMLProps<HTMLDivElement>>;\n  Description: React.FC<HTMLProps<HTMLParagraphElement>>;\n  Heading: React.FC<HTMLProps<HTMLHeadingElement>>;\n}\nconst Promo: Promo = (props) => {\n  const { isGroup, promoCount } = useContext<PromoContextType>(PromoContext);\n  let promoWidth: 'one-half' | 'one-third' | 'one-quarter' | 'full';\n  if (isGroup) {\n    switch (promoCount) {\n      case 2:\n        promoWidth = 'one-half';\n        break;\n      case 3:\n        promoWidth = 'one-third';\n        break;\n      case 4:\n        promoWidth = 'one-quarter';\n        break;\n      default:\n        promoWidth = 'full';\n        break;\n    }\n    return (\n      <Col className=\"nhsuk-promo-group__item\" width={promoWidth}>\n        <BasePromo {...props} />\n      </Col>\n    );\n  }\n  return <BasePromo {...props} />;\n};\n\nPromo.Group = PromoGroup;\nPromo.Description = PromoDescription;\nPromo.Heading = PromoHeading;\n\nexport default Promo;\n"],"names":["PanelContext","createContext","PromoDeprecationWarning","PanelDeprecationWarning","BasePanel","label","grey","className","labelProps","children","rest","useDevWarning","jsxs","classNames","jsx","Panel","props","PanelGroupContext","React","panelWidth","panelCount","Col","PanelGroup","child","isValidElement","Row","PromoContext","BasePromo","imageSrc","imageProps","small","Component","imageClassName","restImageProps","PromoHeading","HeadingLevel","PromoDescription","PromoGroup","promoCount","Promo","isGroup","useContext","promoWidth"],"mappings":"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"}